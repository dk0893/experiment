$ ifconfig 

docker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500

        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255

        inet6 fe80::42:9cff:fe50:e7e6  prefixlen 64  scopeid 0x20<link>

        ether 02:42:9c:50:e7:e6  txqueuelen 0  (イーサネット)

        RX packets 0  bytes 0 (0.0 B)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 64  bytes 9335 (9.3 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500

        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255

        inet6 fe80::eb16:b65:e9c5:ddc9  prefixlen 64  scopeid 0x20<link>

        ether 08:00:27:54:d5:cb  txqueuelen 1000  (イーサネット)

        RX packets 322652  bytes 467557597 (467.5 MB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 40893  bytes 2652168 (2.6 MB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



enp0s8: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500

        inet 192.168.56.101  netmask 255.255.255.0  broadcast 192.168.56.255

        inet6 fe80::2d19:efaa:a12d:f974  prefixlen 64  scopeid 0x20<link>

        ether 08:00:27:c0:67:7d  txqueuelen 1000  (イーサネット)

        RX packets 94022  bytes 138784221 (138.7 MB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 4527  bytes 607490 (607.4 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536

        inet 127.0.0.1  netmask 255.0.0.0

        inet6 ::1  prefixlen 128  scopeid 0x10<host>

        loop  txqueuelen 1000  (ローカルループバック)

        RX packets 1229  bytes 263536 (263.5 KB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 1229  bytes 263536 (263.5 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



daisuke@daisuke-VirtualBox:~/svn_/qemu/BHEU23-firmware-workshop-work$ sudo ./

config.ini  ifup.sh     input/      launch.sh   output/     zImage      

daisuke@daisuke-VirtualBox:~/svn_/qemu/BHEU23-firmware-workshop-work$ sudo ./ifup.sh 

+ . config.ini

+++ nproc

++ CPU_CORES=4

+++ grep -v used

+++ head -n 1

+++ free -m

+++ awk '{ print $2 }'

++ AVAILABLE_MEM=7932

++ AVAILABLE_MEM_GB=7

++ FIRMWARE_IMAGE=input/charx.release-1.6.2.raucb_extract/0-133468160.squashfs_v4_le_extract/root.ext4

++ BOOT_PARAMS='consoleblank=0 bootchooser.active=system0 console=ttyAMA0,115200n8 root=/dev/sda rootflags=data=journal rootwait rw fsck.repair=yes'

++ ETH_0=tap0

++ ETH_1=tap1

++ CAN_0=can0

++ BR_0=br0

++ ETH_0_MAC=A8:74:1D:3B:2D:10

++ ETH_1_MAC=A8:74:1D:3B:2D:11

++ OUT_IF=enp0s3

+ '[' 0 -ne 0 ']'

++ pidof NetworkManager

+ PID=612

+ [[ ! -z 612 ]]

+ echo '[!] We recommend disabling NetworkManager. It may interfere with qemu networking.'

[!] We recommend disabling NetworkManager. It may interfere with qemu networking.

+ ip tuntap add tap0 mode tap

+ ip tuntap add tap1 mode tap

+ echo '[+] setting up transparent bridge betwen host eth0 (tap0) and uplink'

[+] setting up transparent bridge betwen host eth0 (tap0) and uplink

+ brctl addbr br0

+ brctl addif br0 tap0 enp0s3

+ echo '[+] setting up fixed ip on tap1'

[+] setting up fixed ip on tap1

+ ip addr add 192.168.4.2/24 dev tap1

+ echo '[+] bringing up interfaces and bridges'

[+] bringing up interfaces and bridges

+ ip link set dev tap0 up

+ ip link set dev tap1 up

+ ip link set dev br0 up

+ echo '[+] requesting dhcp lease on br0'

[+] requesting dhcp lease on br0

+ dhclient br0 -v

Internet Systems Consortium DHCP Client 4.4.1

Copyright 2004-2018 Internet Systems Consortium.

All rights reserved.

For info, please visit https://www.isc.org/software/dhcp/



Listening on LPF/br0/d2:29:3f:bd:10:6e

Sending on   LPF/br0/d2:29:3f:bd:10:6e

Sending on   Socket/fallback

DHCPDISCOVER on br0 to 255.255.255.255 port 67 interval 3 (xid=0x56d4b84f)

DHCPOFFER of 10.0.2.16 from 10.0.2.2

DHCPREQUEST for 10.0.2.16 on br0 to 255.255.255.255 port 67 (xid=0x4fb8d456)

DHCPACK of 10.0.2.16 from 10.0.2.2 (xid=0x56d4b84f)

bound to 10.0.2.16 -- renewal in 42219 seconds.

+ echo '[+] setting up virtual CAN interfaces.'

[+] setting up virtual CAN interfaces.

+ ip link add dev can0 type vcan

+ ip link set can0 up txqueuelen 1000

daisuke@daisuke-VirtualBox:~/svn_/qemu/BHEU23-firmware-workshop-work$ ifconfig 

br0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500

        inet 10.0.2.16  netmask 255.255.255.0  broadcast 10.0.2.255

        inet6 fe80::a00:27ff:fe54:d5cb  prefixlen 64  scopeid 0x20<link>

        ether d2:29:3f:bd:10:6e  txqueuelen 1000  (イーサネット)

        RX packets 30  bytes 5109 (5.1 KB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 68  bytes 10982 (10.9 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



can0: flags=193<UP,RUNNING,NOARP>  mtu 72

        unspec 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  txqueuelen 1000  (不明なネット)

        RX packets 0  bytes 0 (0.0 B)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 0  bytes 0 (0.0 B)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



docker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500

        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255

        inet6 fe80::42:9cff:fe50:e7e6  prefixlen 64  scopeid 0x20<link>

        ether 02:42:9c:50:e7:e6  txqueuelen 0  (イーサネット)

        RX packets 0  bytes 0 (0.0 B)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 64  bytes 9335 (9.3 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



enp0s3: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500

        inet 10.0.2.15  netmask 255.255.255.0  broadcast 10.0.2.255

        inet6 fe80::eb16:b65:e9c5:ddc9  prefixlen 64  scopeid 0x20<link>

        ether 08:00:27:54:d5:cb  txqueuelen 1000  (イーサネット)

        RX packets 322682  bytes 467563146 (467.5 MB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 40971  bytes 2664095 (2.6 MB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



enp0s8: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500

        inet 192.168.56.101  netmask 255.255.255.0  broadcast 192.168.56.255

        inet6 fe80::2d19:efaa:a12d:f974  prefixlen 64  scopeid 0x20<link>

        ether 08:00:27:c0:67:7d  txqueuelen 1000  (イーサネット)

        RX packets 94201  bytes 138827718 (138.8 MB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 4706  bytes 694860 (694.8 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536

        inet 127.0.0.1  netmask 255.0.0.0

        inet6 ::1  prefixlen 128  scopeid 0x10<host>

        loop  txqueuelen 1000  (ローカルループバック)

        RX packets 1251  bytes 266436 (266.4 KB)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 1251  bytes 266436 (266.4 KB)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



tap0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500

        ether 6e:43:eb:69:f7:fa  txqueuelen 1000  (イーサネット)

        RX packets 0  bytes 0 (0.0 B)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 0  bytes 0 (0.0 B)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



tap1: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500

        inet 192.168.4.2  netmask 255.255.255.0  broadcast 0.0.0.0

        ether 6a:32:38:78:ee:fe  txqueuelen 1000  (イーサネット)

        RX packets 0  bytes 0 (0.0 B)

        RX errors 0  dropped 0  overruns 0  frame 0

        TX packets 0  bytes 0 (0.0 B)

        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0



daisuke@daisuke-VirtualBox:~/svn_/qemu/BHEU23-firmware-workshop-work$ sudo ./launch.sh 

sudo: unable to execute ./launch.sh: Text file busy

daisuke@daisuke-VirtualBox:~/svn_/qemu/BHEU23-firmware-workshop-work$ sudo ./launch.sh 

+ . config.ini

+++ nproc

++ CPU_CORES=4

+++ free -m

+++ head -n 1

+++ awk '{ print $2 }'

+++ grep -v used

++ AVAILABLE_MEM=7932

++ AVAILABLE_MEM_GB=7

++ FIRMWARE_IMAGE=input/charx.release-1.6.2.raucb_extract/0-133468160.squashfs_v4_le_extract/root.ext4

++ BOOT_PARAMS='consoleblank=0 bootchooser.active=system0 console=ttyAMA0,115200n8 root=/dev/sda rootflags=data=journal rootwait rw fsck.repair=yes'

++ ETH_0=tap0

++ ETH_1=tap1

++ CAN_0=can0

++ BR_0=br0

++ ETH_0_MAC=A8:74:1D:3B:2D:10

++ ETH_1_MAC=A8:74:1D:3B:2D:11

++ OUT_IF=enp0s3

+ '[' 0 -ne 0 ']'

+ qemu-system-arm -M virt,highmem=off -m 2G -smp 2 -cpu cortex-a7 -kernel zImage -device virtio-scsi-device -device scsi-hd,drive=SystemDisk -drive file=input/charx.release-1.6.2.raucb_extract/0-133468160.squashfs_v4_le_extract/root.ext4,format=raw,if=none,id=SystemDisk -append 'consoleblank=0 bootchooser.active=system0 console=ttyAMA0,115200n8 root=/dev/sda rootflags=data=journal rootwait rw fsck.repair=yes' -no-reboot -nographic -serial mon:stdio -object rng-random,filename=/dev/random,id=rng0 -netdev tap,id=tap0net,ifname=tap1,script=no,downscript=no -device virtio-net-device,netdev=tap0net,mac=A8:74:1D:3B:2D:11 -netdev tap,id=tap1net,ifname=tap0,script=no,downscript=no -device virtio-net-device,netdev=tap1net,mac=A8:74:1D:3B:2D:10 -object can-bus,id=canbus0 -object can-host-socketcan,id=canhost0,if=can0,canbus=canbus0 -device kvaser_pci,canbus=canbus0

[    0.000000] Booting Linux on physical CPU 0x0

[    0.000000] Linux version 4.14.93 (quentin@onekey) (gcc version 9.5.0 (Ubuntu 9.5.0-1ubuntu1~22.04)) #1 SMP PREEMPT Tue Dec 5 12:23:32 CET 2023

[    0.000000] CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=10c5387d

[    0.000000] CPU: div instructions available: patching division code

[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache

[    0.000000] OF: fdt: Machine model: linux,dummy-virt

[    0.000000] Memory policy: Data cache writealloc

[    0.000000] efi: Getting EFI parameters from FDT:

[    0.000000] efi: UEFI not found.

[    0.000000] cma: Reserved 64 MiB at 0xbc000000

[    0.000000] psci: probing for conduit method from DT.

[    0.000000] psci: PSCIv0.2 detected in firmware.

[    0.000000] psci: Using standard PSCI v0.2 function IDs

[    0.000000] psci: Trusted OS migration not required

[    0.000000] percpu: Embedded 17 pages/cpu @eedcf000 s39756 r8192 d21684 u69632

[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 522560

[    0.000000] Kernel command line: consoleblank=0 bootchooser.active=system0 console=ttyAMA0,115200n8 root=/dev/sda rootflags=data=journal rootwait rw fsck.repair=yes

[    0.000000] PID hash table entries: 4096 (order: 2, 16384 bytes)

[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)

[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)

[    0.000000] Memory: 1989588K/2097152K available (12288K kernel code, 1658K rwdata, 4740K rodata, 2048K init, 421K bss, 42028K reserved, 65536K cma-reserved, 1245184K highmem)

[    0.000000] Virtual kernel memory layout:

[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)

[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)

[    0.000000]     vmalloc : 0xf0800000 - 0xff800000   ( 240 MB)

[    0.000000]     lowmem  : 0xc0000000 - 0xf0000000   ( 768 MB)

[    0.000000]     pkmap   : 0xbfe00000 - 0xc0000000   (   2 MB)

[    0.000000]     modules : 0xbf000000 - 0xbfe00000   (  14 MB)

[    0.000000]       .text : 0xc0208000 - 0xc0f00000   (13280 kB)

[    0.000000]       .init : 0xc1400000 - 0xc1600000   (2048 kB)

[    0.000000]       .data : 0xc1600000 - 0xc179ebd8   (1659 kB)

[    0.000000]        .bss : 0xc17a9df8 - 0xc18134d8   ( 422 kB)

[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1

[    0.000000] Preemptible hierarchical RCU implementation.

[    0.000000] 	RCU event tracing is enabled.

[    0.000000] 	RCU restricting CPUs from NR_CPUS=16 to nr_cpu_ids=2.

[    0.000000] 	Tasks RCU enabled.

[    0.000000] RCU: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=2

[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16

[    0.000000] GICv2m: range[mem 0x08020000-0x08020fff], SPI[80:143]

[    0.000000] arch_timer: cp15 timer(s) running at 62.50MHz (virt).

[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x1cd42e208c, max_idle_ns: 881590405314 ns

[    0.000208] sched_clock: 56 bits at 62MHz, resolution 16ns, wraps every 4398046511096ns

[    0.000393] Switching to timer-based delay loop, resolution 16ns

[    0.005112] Console: colour dummy device 80x30

[    0.006025] Calibrating delay loop (skipped), value calculated using timer frequency.. 125.00 BogoMIPS (lpj=625000)

[    0.006217] pid_max: default: 32768 minimum: 301

[    0.007826] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)

[    0.007879] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)

[    0.032287] CPU: Testing write buffer coherency: ok

[    0.045841] /cpus/cpu@0 missing clock-frequency property

[    0.045997] /cpus/cpu@1 missing clock-frequency property

[    0.046361] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000

[    0.114609] Setting up static identity map for 0x40300000 - 0x403000a0

[    0.117391] Hierarchical SRCU implementation.

[    0.143943] EFI services will not be available.

[    0.157431] smp: Bringing up secondary CPUs ...

[    0.248431] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001

[    0.253122] smp: Brought up 1 node, 2 CPUs

[    0.253265] SMP: Total of 2 processors activated (250.00 BogoMIPS).

[    0.253360] CPU: All CPU(s) started in SVC mode.

[    0.296122] devtmpfs: initialized

[    0.306436] random: get_random_u32 called from bucket_table_alloc+0xfc/0x22c with crng_init=0

[    0.310928] VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5

[    0.339605] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns

[    0.340727] futex hash table entries: 512 (order: 3, 32768 bytes)

[    0.349997] xor: measuring software checksum speed

[    0.455457]    arm4regs  :  1138.400 MB/sec

[    0.562595]    8regs     :  1268.800 MB/sec

[    0.670967]    32regs    :  1310.000 MB/sec

[    0.783011]    neon      :  1185.600 MB/sec

[    0.783136] xor: using function: 32regs (1310.000 MB/sec)

[    0.784613] pinctrl core: initialized pinctrl subsystem

[    0.800853] DMI not present or invalid.

[    0.816852] NET: Registered protocol family 16

[    0.843865] DMA: preallocated 256 KiB pool for atomic coherent allocations

[    0.851786] cpuidle: using governor menu

[    0.852902] No ATAGs?

[    0.853768] hw-breakpoint: CPU 0 debug is powered down!

[    0.859876] Serial: AMBA PL011 UART driver

[    0.912138] 9000000.pl011: ttyAMA0 at MMIO 0x9000000 (irq = 54, base_baud = 0) is a PL011 rev1

[    0.937163] console [ttyAMA0] enabled

[    1.158011] raid6: int32x1  gen()   672 MB/s

[    1.341218] raid6: int32x1  xor()   414 MB/s

[    1.515625] raid6: int32x2  gen()   722 MB/s

[    1.698673] raid6: int32x2  xor()   459 MB/s

[    1.880185] raid6: int32x4  gen()   168 MB/s

[    2.066858] raid6: int32x4  xor()   414 MB/s

[    2.249296] raid6: int32x8  gen()   448 MB/s

[    2.434564] raid6: int32x8  xor()   307 MB/s

[    2.611152] raid6: neonx1   gen()   213 MB/s

[    2.788930] raid6: neonx1   xor()   734 MB/s

[    2.966842] raid6: neonx2   gen()  1531 MB/s

[    3.144799] raid6: neonx2   xor()   826 MB/s

[    3.325126] raid6: neonx4   gen()  1733 MB/s

[    3.511279] raid6: neonx4   xor()   915 MB/s

[    3.696096] raid6: neonx8   gen()  1229 MB/s

[    3.878726] raid6: neonx8   xor()   623 MB/s

[    3.878997] raid6: using algorithm neonx4 gen() 1733 MB/s

[    3.879337] raid6: .... xor() 915 MB/s, rmw enabled

[    3.879668] raid6: using neon recovery algorithm

[    3.888786] AT91: Could not find identification node

[    3.895715] vgaarb: loaded

[    3.902351] SCSI subsystem initialized

[    3.905296] usbcore: registered new interface driver usbfs

[    3.905738] usbcore: registered new interface driver hub

[    3.906333] usbcore: registered new device driver usb

[    3.909988] pps_core: LinuxPPS API ver. 1 registered

[    3.910200] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>

[    3.910650] PTP clock support registered

[    3.911730] EDAC MC: Ver: 3.0.0

[    3.913723] dmi: Firmware registration failed.

[    3.929390] clocksource: Switched to clocksource arch_sys_counter

[    4.133923] NET: Registered protocol family 2

[    4.140535] TCP established hash table entries: 8192 (order: 3, 32768 bytes)

[    4.141055] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)

[    4.141438] TCP: Hash tables configured (established 8192 bind 8192)

[    4.143820] UDP hash table entries: 512 (order: 2, 16384 bytes)

[    4.144231] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)

[    4.148468] NET: Registered protocol family 1

[    4.155773] RPC: Registered named UNIX socket transport module.

[    4.156033] RPC: Registered udp transport module.

[    4.156208] RPC: Registered tcp transport module.

[    4.156352] RPC: Registered tcp NFSv4.1 backchannel transport module.

[    4.170776] workingset: timestamp_bits=14 max_order=19 bucket_order=5

[    4.189007] squashfs: version 4.0 (2009/01/31) Phillip Lougher

[    4.192440] NFS: Registering the id_resolver key type

[    4.193800] Key type id_resolver registered

[    4.193990] Key type id_legacy registered

[    4.194673] ntfs: driver 2.1.32 [Flags: R/O].

[    4.222815] bounce: pool size: 64 pages

[    4.223410] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)

[    4.240440] io scheduler noop registered

[    4.240763] io scheduler deadline registered

[    4.241643] io scheduler cfq registered (default)

[    4.241877] io scheduler mq-deadline registered

[    4.242166] io scheduler kyber registered

[    4.276945] pl061_gpio 9030000.pl061: PL061 GPIO chip @0x09030000 registered

[    4.284529] OF: PCI: host bridge /pcie@10000000 ranges:

[    4.285344] OF: PCI:    IO 0x3eff0000..0x3effffff -> 0x00000000

[    4.286103] OF: PCI:   MEM 0x10000000..0x3efeffff -> 0x10000000

[    4.287903] pci-host-generic 3f000000.pcie: ECAM at [mem 0x3f000000-0x3fffffff] for [bus 00-0f]

[    4.290399] pci-host-generic 3f000000.pcie: PCI host bridge to bus 0000:00

[    4.291134] pci_bus 0000:00: root bus resource [bus 00-0f]

[    4.291590] pci_bus 0000:00: root bus resource [io  0x0000-0xffff]

[    4.292107] pci_bus 0000:00: root bus resource [mem 0x10000000-0x3efeffff]

[    4.298025] PCI: bus0: Fast back to back transfers disabled

[    4.300005] pci 0000:00:01.0: BAR 0: assigned [io  0x1000-0x107f]

[    4.300683] pci 0000:00:01.0: BAR 1: assigned [io  0x1080-0x10ff]

[    4.301197] pci 0000:00:01.0: BAR 2: assigned [io  0x1400-0x1407]

[    4.640503] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled

[    4.648413] SuperH (H)SCI(F) driver initialized

[    4.651341] msm_serial: driver initialized

[    4.652109] STMicroelectronics ASC driver initialized

[    4.714822] brd: module loaded

[    4.742898] loop: module loaded

[    4.755182] scsi host0: Virtio SCSI HBA

[    4.782908] scsi 0:0:0:0: Direct-Access     QEMU     QEMU HARDDISK    2.5+ PQ: 0 ANSI: 5

[    5.295976] random: fast init done

[    5.309326] sd 0:0:0:0: [sda] 886912 512-byte logical blocks: (454 MB/433 MiB)

[    5.310795] sd 0:0:0:0: [sda] Write Protect is off

[    5.312179] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA

[    5.330924] libphy: Fixed MDIO Bus: probed

[    5.341751] sd 0:0:0:0: [sda] Attached SCSI disk

[    5.345278] vcan: Virtual CAN interface driver

[    5.345578] CAN device driver interface

[    5.347660] bgmac_bcma: Broadcom 47xx GBit MAC driver loaded

[    5.350795] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k

[    5.351114] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.

[    5.351562] igb: Intel(R) Gigabit Ethernet Network Driver - version 5.4.0-k

[    5.351828] igb: Copyright (c) 2007-2014 Intel Corporation.

[    5.364272] pegasus: v0.9.3 (2013/04/25), Pegasus/Pegasus II USB Ethernet driver

[    5.365208] usbcore: registered new interface driver pegasus

[    5.365643] usbcore: registered new interface driver asix

[    5.366188] usbcore: registered new interface driver ax88179_178a

[    5.366542] usbcore: registered new interface driver cdc_ether

[    5.367165] usbcore: registered new interface driver smsc75xx

[    5.367851] usbcore: registered new interface driver smsc95xx

[    5.368410] usbcore: registered new interface driver net1080

[    5.371091] usbcore: registered new interface driver cdc_subset

[    5.371760] usbcore: registered new interface driver zaurus

[    5.372320] usbcore: registered new interface driver cdc_ncm

[    5.376985] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver

[    5.377648] ehci-pci: EHCI PCI platform driver

[    5.378543] ehci-platform: EHCI generic platform driver

[    5.379987] ehci-orion: EHCI orion driver

[    5.380738] SPEAr-ehci: EHCI SPEAr driver

[    5.381528] ehci-st: EHCI STMicroelectronics driver

[    5.382250] ehci-exynos: EHCI EXYNOS driver

[    5.382951] ehci-atmel: EHCI Atmel driver

[    5.383587] tegra-ehci: Tegra EHCI driver

[    5.384287] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver

[    5.384985] ohci-pci: OHCI PCI platform driver

[    5.385692] ohci-platform: OHCI generic platform driver

[    5.386609] SPEAr-ohci: OHCI SPEAr driver

[    5.387216] ohci-st: OHCI STMicroelectronics driver

[    5.387948] ohci-atmel: OHCI Atmel driver

[    5.390433] usbcore: registered new interface driver usb-storage

[    5.401874] rtc-pl031 9010000.pl031: rtc core: registered pl031 as rtc0

[    5.405197] i2c /dev entries driver

[    5.412198] IR NEC protocol handler initialized

[    5.412593] IR RC5(x/sz) protocol handler initialized

[    5.412875] IR RC6 protocol handler initialized

[    5.413195] IR JVC protocol handler initialized

[    5.413495] IR Sony protocol handler initialized

[    5.413766] IR SANYO protocol handler initialized

[    5.414040] IR Sharp protocol handler initialized

[    5.414371] IR MCE Keyboard/mouse protocol handler initialized

[    5.414801] IR XMP protocol handler initialized

[    5.433872] sdhci: Secure Digital Host Controller Interface driver

[    5.434304] sdhci: Copyright(c) Pierre Ossman

[    5.437412] Synopsys Designware Multimedia Card Interface Driver

[    5.440438] sdhci-pltfm: SDHCI platform and OF driver helper

[    5.446149] ledtrig-cpu: registered to indicate activity on CPUs

[    5.447535] usbcore: registered new interface driver usbhid

[    5.447945] usbhid: USB HID core driver

[    5.457551] Netfilter messages via NETLINK v0.30.

[    5.459772] nf_conntrack version 0.5.0 (16384 buckets, 65536 max)

[    5.464366] xt_time: kernel timezone is -0000

[    5.465003] IPVS: Registered protocols (TCP, UDP)

[    5.465469] IPVS: Connection hash table configured (size=4096, memory=32Kbytes)

[    5.468028] IPVS: ipvs loaded.

[    5.468314] IPVS: [rr] scheduler registered.

[    5.474619] ip_tables: (C) 2000-2006 Netfilter Core Team

[    5.478614] arp_tables: arp_tables: (C) 2002 David S. Miller

[    5.480831] Initializing XFRM netlink socket

[    5.482834] NET: Registered protocol family 10

[    5.493604] Segment Routing with IPv6

[    5.494361] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver

[    5.498011] NET: Registered protocol family 17

[    5.499682] Bridge firewalling registered

[    5.499919] can: controller area network core (rev 20170425 abi 9)

[    5.500615] NET: Registered protocol family 29

[    5.500917] can: raw protocol (rev 20170425)

[    5.501230] can: broadcast manager protocol (rev 20170425 t)

[    5.501527] can: netlink gateway (rev 20170425) max_hops=1

[    5.503190] Key type dns_resolver registered

[    5.504382] ThumbEE CPU extension supported.

[    5.504667] Registering SWP/SWPB emulation handler

[    5.518472] Btrfs loaded, crc32c=crc32c-generic

[    5.529609] input: gpio-keys as /devices/platform/gpio-keys/input/input0

[    5.533940] rtc-pl031 9010000.pl031: setting system clock to 2024-06-27 10:59:39 UTC (1719485979)

[    5.542395] uart-pl011 9000000.pl011: no DMA platform data

[    5.589925] EXT4-fs: Warning: mounting with data=journal disables delayed allocation and O_DIRECT support!

[    5.621241] EXT4-fs (sda): Mount option "data=journal" incompatible with ext2

[    5.688653] EXT4-fs (sda): mounted filesystem with journalled data mode. Opts: data=journal

[    5.691212] VFS: Mounted root (ext4 filesystem) on device 8:0.

[    5.707520] devtmpfs: mounted

[    5.995699] Freeing unused kernel memory: 2048K

INIT: version 2.88 booting

Starting udev

[    8.157007] udevd[93]: starting version 3.2.7

[    8.197311] random: udevd: uninitialized urandom read (16 bytes read)

[    8.207455] random: udevd: uninitialized urandom read (16 bytes read)

[    8.214272] random: udevd: uninitialized urandom read (16 bytes read)

[    8.285671] udevd[93]: specified group 'kvm' unknown

[    8.361265] udevd[94]: starting eudev-3.2.7

[    8.941994] udevd[94]: specified group 'kvm' unknown

[   11.704970] EXT4-fs (sda): re-mounted. Opts: nodelalloc,data=journal

[   18.532497] urandom_read: 3 callbacks suppressed

[   18.532730] random: dd: uninitialized urandom read (512 bytes read)

Configuring packages on first boot....

 (This may take several minutes. Please do not power off the machine.)

Running postinst /etc/ipk-postinsts/000-charx-controller-agent...

 System startup links for /etc/init.d/charx-controller-agent already exist.

Running postinst /etc/ipk-postinsts/001-charx-modbus-server...

 System startup links for /etc/init.d/charx-modbus-server already exist.

Running postinst /etc/ipk-postinsts/002-open-plc-utils...

Running postinst /etc/ipk-postinsts/003-user-applications...

 System startup links for /etc/init.d/user-applications already exist.

passwd: password expiry information changed.

Running postinst /etc/ipk-postinsts/004-charx-update-agent...

 System startup links for /etc/init.d/charx-update-agent already exist.

Failed to set capabilities on file `/usr/sbin/CharxUpdateAgent' (Invalid argument)

usage: setcap [-q] [-v] [-n <rootid>] (-r|-|<caps>) <filename> [ ... (-r|-|<capsN>) <filenameN> ]



 Note <filename> must be a regular (non-symlink) file.

Running postinst /etc/ipk-postinsts/005-charx-website...

 System startup links for /etc/init.d/charx-website already exist.

update-rc.d: /etc/init.d/run-postinsts exists during rc.d purge (continuing)

 Removing any system startup links for run-postinsts ...

  /etc/rcS.d/S99run-postinsts

INIT: Entering runlevel: 5

[   22.824895] random: dbus-uuidgen: uninitialized urandom read (12 bytes read)

[   22.828253] random: dbus-uuidgen: uninitialized urandom read (8 bytes read)

Starting system message bus: [   22.959359] random: dbus-daemon: uninitialized urandom read (12 bytes read)

dbus.

Starting random number generator daemon.

Starting Hardware Configuration Service

/usr/local/bin/charx_hardware_config: line 13: /sys/class/gpio/export: No such file or directory

/usr/local/bin/charx_hardware_config: line 14: /sys/class/gpio/gpio18/direction: No such file or directory

/usr/local/bin/charx_hardware_config: line 15: /sys/class/gpio/gpio18/value: No such file or directory

/usr/local/bin/charx_hardware_config: line 19: /sys/class/gpio/export: No such file or directory

/usr/local/bin/charx_hardware_config: line 20: /sys/class/gpio/gpio24/direction: No such file or directory

/usr/local/bin/charx_hardware_config: line 21: /sys/class/gpio/gpio24/value: No such file or directory

/usr/local/bin/charx_hardware_config: line 25: /sys/class/gpio/export: No such file or directory

/usr/local/bin/charx_hardware_config: line 26: /sys/class/gpio/gpio24/direction: No such file or directory

find: /sys/class/gpio/: No such file or directory

Starting Modem On Service

root: charx_modem_on: Trying to export GPIO pin

/usr/local/bin/charx_modem_on: line 30: /sys/class/gpio/export: No such file or directory

root: charx_modem_on: Trying to export GPIO pin

/usr/local/bin/charx_modem_on: line 30: /sys/class/gpio/export: No such file or directory

root: charx_modem_on: Trying to export GPIO pin

/usr/local/bin/charx_modem_on: line 30: /sys/class/gpio/export: No such file or directory

root: charx_modem_on: Trying to export GPIO pin

/usr/local/bin/charx_modem_on: line 30: /sys/class/gpio/export: No such file or directory

root: charx_modem_on: Trying to export GPIO pin

/usr/local/bin/charx_modem_on: line 30: /sys/class/gpio/export: No such file or directory

/usr/local/bin/charx_modem_on: line 38: /sys/class/gpio/gpio19/direction: No such file or directory

/usr/local/bin/charx_modem_on: line 39: /sys/class/gpio/gpio19/value: No such file or directory

root: charx_modem_on: Modem device power on triggered (GPIO=19)

[   31.330998] random: crng init done

root: charx_modem_on: Wait for modem interface...

root: charx_modem_on: Modem device not found.

root: charx_modem_on: Reset USB1 device...

/usr/local/bin/charx_modem_on: line 98: /sys/bus/usb/drivers/usb/usb1/authorized: No such file or directory

/usr/local/bin/charx_modem_on: line 101: /sys/bus/usb/drivers/usb/usb1/authorized: No such file or directory

root: charx_modem_on: Wait for modem interface...

root: charx_modem_on: Cannot find modem device

root: charx_modem_on: Modem initialization failed.

Starting reset-button

reset-button started

Starting OpenBSD Secure Shell server: sshd

  generating ssh RSA host key...

  generating ssh ECDSA host key...

  generating ssh ED25519 host key...

done.

Starting openvpn:.

Starting OP-TEE Supplicant: ERR [473] TSUP:main:704: failed to find an OP-TEE supplicant device

Starting syslogd/klogd: done

Configuring network interfaces... Getting Data from SystemConfigManager...

Getting data from system config manager...

Cannot find device "usb0"

Cannot find device "usb0"

udhcpc: started, v1.30.1

Fails getting data from system config manager... 1

sed: /data/charx-system-config-manager/system-user-configuration.ini: No such file or directory

Fails getting data from system config manager... 2

udhcpc: sending discover

Fails getting data from system config manager... 3

Fails getting data from system config manager... 4

Fails getting data from system config manager... 5

udhcpc: sending discover

Fails getting data from system config manager... 6

Fails getting data from system config manager... 7

Fails getting data from system config manager... 8

udhcpc: sending discover

Fails getting data from system config manager... 9

Fails getting data from system config manager... 10

Fails getting data from system config manager... 11

sed: /data/charx-system-config-manager/system-user-configuration.ini: No such file or directory

udhcpc: no lease, forking to background

Fails getting data from system config manager... 12

Fails getting data from system config manager... 13

Fails getting data from system config manager... 14

Fails getting data from system config manager... 15

Fails getting data from system config manager... 16

Fails getting data from system config manager... 17

Getting Data from SystemConfigManager...

Getting data from system config manager...

Fails getting data from system config manager... 18

Fails getting data from system config manager... 1

Fails getting data from system config manager... 19

Fails getting data from system config manager... 2

Fails getting data from system config manager... 20

Fails getting data from system config manager... 3

Fails getting data from system config manager... 21

Fails getting data from system config manager... 4

Fails getting data from system config manager... 22

Fails getting data from system config manager... 5

Fails getting data from system config manager... 23

Getting Data from SystemConfigManager...

Getting data from system config manager...

Starting DHCP server: Fails getting data from system config manager... 6

Fails getting data from system config manager... 24

.

Starting charx-system-config-manager: done

Fails getting data from system config manager... 1

Fails getting data from system config manager... 7

Fails getting data from system config manager... 25

Fails getting data from system config manager... 2

Fails getting data from system config manager... 8

Fails getting data from system config manager... 26

Fails getting data from system config manager... 9

Fails getting data from system config manager... 3

Fails getting data from system config manager... 27

Fails getting data from system config manager... 4

Fails getting data from system config manager... 10

Fails getting data from system config manager... 28

Fails getting data from system config manager... 11

Fails getting data from system config manager... 5

Fails getting data from system config manager... 29

Fails getting data from system config manager... 12

Fails getting data from system config manager... 6

Fails getting data from system config manager... 30

Fails getting data from system config manager... 7

Fails getting data from system config manager... 13

Fails getting data from system config manager... 31

Fails getting data from system config manager... 8

Fails getting data from system config manager... 14

Fails getting data from system config manager... 32

Fails getting data from system config manager... 9

Fails getting data from system config manager... 15

Fails getting data from system config manager... 33

Applying CharxWebsite IP Routing Rules...

Finished...

Applying CharxWebsite IP Routing Rules...

Finished...

Applying CharxWebsite IP Routing Rules...

Finished...

-Hev3000

-D8.8.8.8,8.8.4.4,1.1.1.1

Setting eth0 to dhcp

True

using dns-nameservers 8.8.8.8 8.8.4.4 1.1.1.1

replace empty IP with default

no gateway given

Setting IP to DHCP

Setting eth0 to DHCP

True

Deconfiguring network interfaces... ifdown: interface usb0 not configured

done.

Configuring network interfaces... Getting Data from SystemConfigManager...

Getting data from system config manager...

Applying CharxWebsite IP Routing Rules...

Finished...

Cannot find device "usb0"

Cannot find device "usb0"

udhcpc: started, v1.30.1

udhcpc: sending discover

udhcpc: sending discover

udhcpc: sending discover

udhcpc: no lease, forking to background

Getting Data from SystemConfigManager...

Getting data from system config manager...

Applying CharxWebsite IP Routing Rules...

Finished...

Getting Data from SystemConfigManager...

Getting data from system config manager...

Applying CharxWebsite IP Routing Rules...

Finished...

ev3000

8.8.8.8,8.8.4.4,1.1.1.1

 * Starting Avahi mDNS/DNS-SD Daemon: avahi-daemon

   ...done.

Starting charx-update-agent

charx-update-agent started

Starting crond: OK

Generating SSL certificates

Starting nginx: nginx: [warn] "ssl_stapling" ignored, issuer certificate not found for certificate "/etc/ssl/certs/nginx-selfsigned.crt"

nginx.

Starting CHARX System Initialization

Starting CAN Configuration Service

Cannot find device "can0"

Cellular Network disabled in system configuration

QCA7000/7005 disabled in system configuration

Starting CHARX System Configuration

/bin/mkdir: cannot create directory '/identity': File exists

True

True

True

True

22,80,443,502,1883,5000,5353



chronyd configuration file generated: /etc/chrony/chrony.conf

Starting chronyd: done

Mosquitto configuration file generated: /etc/mosquitto/mosquitto.conf

Starting Mosquitto message broker: done

Starting charx-controller-agent

charx-controller-agent started

Starting charx-jupicore

charx-jupicore started

Starting charx-loadmanagement-agent

charx-loadmanagement-agent started

Starting charx-modbus-agent

charx-modbus-agent started

Starting charx-modbus-server

charx-modbus-server started

Starting charx-ocpp16-agent

charx-ocpp16-agent started

Starting charx-system-monitor

charx-system-monitor started

Starting charx-website

[  181.576803] tun: disagrees about version of symbol module_layout

charx-website started

Starting Firewall

[  185.027288] nfnetlink: disagrees about version of symbol module_layout

[  185.307593] nfnetlink: disagrees about version of symbol module_layout

[  185.592292] nfnetlink: disagrees about version of symbol module_layout

In file included from /etc/firewall/rules/basic.ruleset:10:9-36:

/etc/firewall/rules//optionals.ruleset:14:24-27: Error: Interface does not exist

443 accept

                       ^^^^



(rauc:1380): rauc-WARNING **: 11:02:52.950: Failed getting primary slot: Failed getting primary slot: No content to read



rauc-Message: 11:02:53.951: rauc status: GDBus.Error:org.gtk.GDBus.UnmappedGError.Quark._g_2dio_2derror_2dquark.Code30: Failed marking 'rootfs.0' as good: Failed to run barebox-state: Child process exited with code 1

Starting User applications

INIT: Id "mxc0" respawning too fast: disabled for 5 minutes

